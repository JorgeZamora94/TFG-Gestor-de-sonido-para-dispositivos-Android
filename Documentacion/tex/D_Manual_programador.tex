\apendice{Documentación técnica de programación}

\section{Introducción}
A continuación veremos como se ha estado trabajando para generar la aplicación y algunos conceptos necesarios.
\section{Estructura de directorios}
.\TFG-Gestor-de-sonido-para-dispositivos-Android\Codigo\app\src\main *** RUTA PRINCIPAL ***

Código java de la aplicación:
.\java
Hay que diferenciar la parte de objetos, controladores y aplicación principal.

Hay que sacar imágenes finales de la estructura.

Parte gráfica de la aplicación:
.\res
Guardamos los bitmaps de los iconos, layouts, estructuras de menús, literales de los menús...

\section{Manual del programador}
\subsection{Ficheros de configuración}
En nuestro proyecto encontraremos tres ficheros de configuración, dos ficheros que utiliza Gradle, para añadir dependencias a nuestro proyecto y lineas de ejecución de este, y un archivo manifest donde indicaremos todo lo relacionado con la ejecución de librerías de android, versionado de la aplicación y diferentes componentes android.
\subsection{Observadores}
Los observadores en nuestra aplicación son una serie de clases que se encargarán de ver si se lanza agún tipo de evento, el cual active alguna de nuestras configuraciones.

Para ello tendremos dos tipos de observadores: un observador GPS y un observador genérico.
\subsubsection{Observador GPS}
El observador GPS es la clase encargada de detectar cunado hay cambios en nuestra localización GPS, es decir, cada vez que nos movamos X metros o pase Y tiempo se lanzará un evento, el cual realizará las comprobaciones pertinentes para ver si hay configurado algún evento de GPS con esas coordenadas, y si es así activar la configuración 

\section{Compilación, instalación y ejecución del proyecto}
\section{Compilación, instalación y ejecución del proyecto}
Una vez ya realizados los pasos anteriores vistos en el manual del programador podremos realizar los siguiente pasos.
\subsection{Compilación de la aplicación}
Para ello tendremos que tener el proyecto abierto con el Android Studio y seleccionar en la barra de herramientas el botón del desplegable de "Build", y ahí seleccionaremos "Build Project" o "Rebuid Project" si ya lo habíamos buildeado anterior mente.
\subsection{Instalación de la APP y ejecución del proyecto}
Para instalar la aplicación dentro de un simulador Android de IDE Android Studio lo que haremos será crear un dispositivo virtual con la versión de Android que queramos simular. Una vez tengamos creada la máquina virtual de Android lo que haremos será pinchar en el botón de "Run" en la barra de herramientas de Android Studio, o abriendo el desplegable "Run" y seleccionando la opción "Run 'app'". Una vez hecho esto, tendremos que seleccionar un dispositivo sobre el que instalar y ejecutar la aplicación, por consiguiente se nos abrirá una ventana donde seleccionar el dispositivo simulado sobre el que correr la aplicación, permitiéndonos también crear nuevos dispositivos simulados. Una vez seleccionado el dispositivo pincharemos en el botón "OK" y esperaremos a que el proyecto se buildee, y que la máquina virtual se arranque. Una vez arrancada la máquina virtual automáticamente se instalará y se ejecutará.
\section{Pruebas del sistema}

\subsection{Pruebas unitarias de la base de datos}

\subsubsection{Creación de objetos en la base de datos}

\paragraph{Premisas}
Se tenga instanciada la base de datos y creado el modelo de datos.
Se tenga definida la clase que controle los índices de la base de datos, y esta sea arrancada cuando se inicie la aplicación.

\paragraph{Acciones}
Se generarán todos los tipos de eventos en la base de datos.
Cada vez que se genere una nueva entrada en la base de datos se comprobará que se introduce comprobando que el numero máximo del id generado es mayor al id máximo que había anteriormente.

\paragraph{Resultados esperados}

Se comprueba que se insertan correctamente todos los tipos de eventos en la base de datos.

\paragraph{Resultado}
Prueba superada.

\subsubsection{Obtención de datos de la base de datos}

\paragraph{Premisas}
Se tenga instanciada la base de datos y creado el modelo de datos.
Se tenga definida la clase que controle los índices de la base de datos, y esta sea arrancada cuando se inicie la aplicación.
Haya datos guardados dentro de la base de datos.

\paragraph{Acciones}
Se hará una búsqueda de cada tipo de datos instanciados.
Se comprobará que se puede iterar sobre dichos datos.

\paragraph{Resultados esperados}

Afirmamos que se puede iterar sobre objetos creados de la base de datos y su contenido corresponde con el introducido.

\paragraph{Resultado}
Prueba superada.

\subsection{Pruebas unitarias del observador GPS}

\subsubsection{Obtención de la localización GPS en cualquier momento}

\paragraph{Premisas}
Se tienen que tener aceptados los permisos de localización GPS en la aplicación.


\paragraph{Acciones}
Se generarán todos los tipos de eventos en la base de datos.
Cada vez que se genere una nueva entrada en la base de datos se comprobará que se introduce comprobando que el numero máximo del id generado es mayor al id máximo que había anteriormente.

\paragraph{Resultados esperados}

Se comprueba que se insertan correctamente todos los tipos de eventos en la base de datos.

\paragraph{Resultado}
Prueba superada.


\subsubsection{Error en la aplicación al intentar acceder a la posición GPS sin los permisos en la aplicación}

\paragraph{Premisas}
No se tiene que tener aceptados los permisos para la obtención de la localización GPS.


\paragraph{Acciones}
Se intentará obtener la posición con el GPS.

\paragraph{Resultados esperados}
La aplicación se cierra por falta de permisos.

\paragraph{Resultado}
Prueba superada.

\subsubsection{Error en la aplicación al intentar acceder a la posición GPS sin los permisos en la aplicación}

\paragraph{Premisas}
No se tiene que tener aceptados los permisos para la obtención de la localización GPS.


\paragraph{Acciones}
Se intentará obtener la posición con el GPS.

\paragraph{Resultados esperados}
La aplicación se cierra por falta de permisos.

\paragraph{Resultado}
Prueba superada.

\subsubsection{Acceder a los eventos de calendario}

\paragraph{Premisas}
Se tendrán los permisos de lectura y escritura de calendarios en la aplicación.


\paragraph{Acciones}
Se obtendrán los calendarios y sus eventos para iterar sobre ellos.

\paragraph{Resultados esperados}
Se esperará un listado de eventos sobre el que poder iterar.

\paragraph{Resultado}
Prueba superada.

\subsubsection{Obtener error en la aplicación por permisos de calendario}

\paragraph{Premisas}
No se tendrán aceptados los permisos de calendario en la aplicación.


\paragraph{Acciones}
Se obtendrán los calendarios y sus eventos para iterar sobre ellos.

\paragraph{Resultados esperados}
Se obtendrá un error al intentar generar los listados de eventos.

\paragraph{Resultado}
Prueba superada.

\subsubsection{Obtener SSID del wifi}

\paragraph{Premisas}
No se requieren premisas.

\paragraph{Acciones}
Se obtendrá la ssid del wifi actual.

\paragraph{Resultados esperados}
Se obtendrá unknown ssid ya que no se puede conectar el emulador a redes wifi.

\paragraph{Resultado}
Prueba superada.

\subsubsection{Observador genérico}

\paragraph{Premisas}
No se requieren premisas.

\paragraph{Acciones}
Se tendrán que crear eventos para ver si la aplicación los detecta.

\paragraph{Resultados esperados}
Si se encuentran eventos que coincidan con las condiciones, se tendrá que informar de ellos.

\paragraph{Resultado}
Prueba superada.